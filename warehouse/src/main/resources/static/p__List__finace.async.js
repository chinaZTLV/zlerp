(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{vjxt:function(e,a,t){"use strict";t.r(a);t("IzEo");var n,r,o,l,d=t("bx4M"),i=(t("14J3"),t("BMrR")),s=(t("+L6B"),t("2/Rp")),c=(t("jCWc"),t("kPKH")),p=(t("miYZ"),t("tsqr")),u=t("p0pE"),m=t.n(u),h=t("2Taf"),f=t.n(h),y=t("vZ4D"),g=t.n(y),b=t("l4Ni"),F=t.n(b),v=t("ujKo"),w=t.n(v),S=t("MhPg"),x=t.n(S),E=(t("OaEy"),t("2fM7")),I=(t("5NDa"),t("5rEg")),M=(t("y8nQ"),t("Vl3Y")),k=t("q1tI"),V=t.n(k),R=t("MuoO"),N=(t("wd/R"),t("CkN6")),z=t("zHco"),C=(t("7ntv"),t("z8EN")),P=t.n(C),q=M["a"].Item,D=(I["a"].TextArea,E["a"].Option,n=Object(R["connect"])(function(e){var a=e.finance,t=e.loading;return{finance:a,loading:t.models.finance}}),r=M["a"].create(),n(o=r((l=function(e){function a(){var e,t;f()(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=F()(this,(e=w()(a)).call.apply(e,[this].concat(r))),t.state={modalVisible:!1,updateModalVisible:!1,expandForm:!1,selectedRows:[],formValues:{},stepFormValues:{},consumerNames:{}},t.columns=[{title:"\u6d41\u6c34\u53f7 ",dataIndex:"flowNumber"},{title:"\u7269\u6599\u540d\u79f0 ",dataIndex:"productKindName"},{title:"\u6d41\u6c34\u91d1\u989d(\u5143) ",dataIndex:"flowAmount"},{title:"\u6d41\u6c34\u7c7b\u578b ",dataIndex:"flowType"},{title:"\u5ba2\u6237\u540d\u79f0 ",dataIndex:"consumerName"},{title:"\u6d41\u6c34\u65f6\u95f4 ",dataIndex:"flowTime"}],t.handleStandardTableChange=function(e){var a=t.props.dispatch;a({type:"finance/queryFinanceFlowForPage",payload:{body:{},header:{},pageIndex:e.current,pageSize:e.pageSize}})},t.handleFormReset=function(){var e=t.props,a=e.form,n=e.dispatch;a.resetFields(),t.setState({formValues:{}}),n({type:"finance/queryFinanceFlowForPage",payload:{body:{},header:{},pageIndex:1,pageSize:10}})},t.handleMenuClick=function(e){var a=t.props.dispatch,n=t.state.selectedRows;if(0!==n.length)switch(e.key){case"remove":a({type:"finance/remove",payload:{key:n.map(function(e){return e.key})},callback:function(){t.setState({selectedRows:[]})}});break;default:break}},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch,r=a.form;r.validateFields(function(e,a){if(!e){var r=m()({},a);t.setState({formValues:r}),console.log("values",r),n({type:"finance/queryFinanceFlowForPage",payload:{body:r,header:{},pageIndex:1,pageSize:10}})}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.handleUpdateModalVisible=function(e,a){t.setState({updateModalVisible:!!e,stepFormValues:a||{}})},t.deleteInfo=function(e){var a=t.props.dispatch;a({type:"finance/deleteMaterialKind",payload:{body:e,header:{}}}).then(function(e){console.log("res",e),""!=e&&null!=e&&void 0!=e?"0"==e.resultCode?(p["a"].success("\u5220\u9664\u6210\u529f"),t.handleModalVisible(),a({type:"finance/queryFinanceFlowForPage",payload:{body:{},header:{},pageIndex:1,pageSize:10}})):p["a"].error(e.resultDesc):p["a"].error("\u64cd\u4f5c\u5931\u8d25")})},t.handleAdd=function(e){var a=t.props.dispatch;a({type:"finance/addOrUpdateMaterialKind",payload:{body:e,header:{}}}).then(function(e){""!=e&&null!=e&&void 0!=e?"0"==e.resultCode?(p["a"].success("\u6dfb\u52a0\u6210\u529f"),t.handleModalVisible(),a({type:"finance/queryFinanceFlowForPage",payload:{body:{},header:{},pageIndex:1,pageSize:10}})):p["a"].error(e.resultDesc):p["a"].error("\u64cd\u4f5c\u5931\u8d25")})},t.handleUpdate=function(e){console.log("fields",e);var a=t.props.dispatch;a({type:"finance/addOrUpdateMaterialKind",payload:{body:e,header:{}}}).then(function(e){""!=e&&null!=e&&void 0!=e?"0"==e.resultCode?(p["a"].success("\u4fee\u6539\u6210\u529f"),t.handleUpdateModalVisible(),a({type:"finance/queryFinanceFlowForPage",payload:{body:{},header:{},pageIndex:1,pageSize:10}})):p["a"].error(e.resultDesc):p["a"].error("\u64cd\u4f5c\u5931\u8d25")})},t}return x()(a,e),g()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"finance/queryFinanceFlowForPage",payload:{body:{},header:{},pageIndex:1,pageSize:10}})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return V.a.createElement(M["a"],{onSubmit:this.handleSearch,layout:"inline"},V.a.createElement(i["a"],{gutter:{md:8,lg:24,xl:48}},V.a.createElement(c["a"],{md:8,sm:24},V.a.createElement(q,{label:"\u5ba2\u6237\u540d\u79f0"},e("consumerName",{rules:[{message:"\u5ba2\u6237\u540d\u79f0\u6700\u591a\u53ef\u4ee5\u8f93\u516520\u4e2a\u5b57\u7b26\uff01",max:20}]})(V.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),V.a.createElement(c["a"],{md:8,sm:24},V.a.createElement("span",{className:P.a.submitButtons},V.a.createElement(s["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),V.a.createElement(s["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"renderForm",value:function(){return this.renderSimpleForm()}},{key:"render",value:function(){var e=this.props.finance.data,a=this.state.selectedRows;return V.a.createElement(z["a"],null,V.a.createElement(d["a"],{bordered:!1},V.a.createElement("div",{className:P.a.tableList},V.a.createElement("div",{className:P.a.tableListForm},this.renderForm()),V.a.createElement(N["a"],{selectedRows:a,data:e,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))))}}]),a}(k["PureComponent"]),o=l))||o)||o);a["default"]=D}}]);